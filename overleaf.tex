\documentclass[12pt,oneside]{book}

% =======================
% Pacotes essenciais
% =======================
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[brazil]{babel}
\usepackage{textcomp}              % símbolos extras com pdfLaTeX
\usepackage{lmodern}               % família Latin Modern (T1)
\usepackage{graphicx}
\usepackage{amsmath, amssymb}
\usepackage{lipsum}
\usepackage{setspace}
\usepackage[dvipsnames]{xcolor}
\usepackage{titlesec}
\usepackage{titletoc}
\usepackage[a4paper, margin=2.5cm]{geometry}
\usepackage{parskip}
\usepackage{tcolorbox}
\usepackage{makeidx}
\makeindex

% Fontes profissionais
\usepackage[sfdefault]{sourcesanspro} % Texto (sans como padrão)
\usepackage{FiraMono}                  % Código (monoespaçada)

% =======================
% Estilo dos códigos (Importação externa)
% =======================
\input{code-style.tex}

% Espaçamento confortável
\setstretch{1.2}

% =======================
% Aparência dos títulos
% =======================
\titleformat{\chapter}[block]
  {\normalfont\huge\bfseries\color{RoyalBlue}}
  {\thechapter\hspace{0.5em}}{0pt}{}

\titleformat{\section}[block]
  {\normalfont\Large\bfseries\color{MidnightBlue}}
  {\thesection\hspace{0.5em}}{0pt}{}

\titleformat{\subsection}[block]
  {\normalfont\large\bfseries\color{black}}
  {\thesubsection\hspace{0.5em}}{0pt}{}

% =======================
% Aparência do sumário
% =======================
\renewcommand{\contentsname}{Sumário}

\titlecontents{chapter}
  [1em]{\addvspace{0.5em}\bfseries\color{RoyalBlue}}
  {\thecontentslabel\hspace{0.5em}}{}{\hfill\contentspage}

\titlecontents{section}
  [2.5em]{\small\color{MidnightBlue}}
  {\thecontentslabel\hspace{0.5em}}{}{\hfill\contentspage}

\titlecontents{subsection}
  [4.5em]{\footnotesize\color{black}}
  {\thecontentslabel\hspace{0.5em}}{}{\hfill\contentspage}

% =======================
% Caixas Profissionais
% =======================
\tcbset{
  boxsep=5pt, left=5pt, right=5pt, top=5pt, bottom=5pt,
  colframe=RoyalBlue, colback=gray!5,
  arc=4pt, boxrule=0.7pt
}

\newtcolorbox{infobox}[1][]{
  colback=blue!5!white, colframe=RoyalBlue, title={Informação}, #1
}
\newtcolorbox{warningbox}[1][]{
  colback=red!5!white, colframe=red!60, title={Atenção}, #1
}
\newtcolorbox{tipbox}[1][]{
  colback=green!5!white, colframe=ForestGreen, title={Dica}, #1
}
\newtcolorbox{examplebox}[1][]{
  colback=yellow!10!white, colframe=Goldenrod, title={Exemplo}, #1
}

% =======================
% Metadados
% =======================
\title{Título do Ebook}
\author{Felipe Jovino dos Santos}
\date{\today}

% =======================
% Hyperlinks (carregar quase por último no PREÂMBULO)
% =======================
\usepackage[hidelinks]{hyperref}
\urlstyle{same} % manter estilo de URL igual ao texto
\hypersetup{
  unicode=true,
  pdftitle={Título do Ebook},
  pdfauthor={Felipe Jovino dos Santos}
}


% =======================
% Documento
% =======================
\begin{document}

% Capa
\begin{titlepage}
  \centering
  \vspace*{5cm}
  {\Huge\bfseries Ecossistema AdonisJS: Guia Completo para Desenvolvedores\par}
  \vspace{2cm}
  {\Large\itshape Felipe Jovino dos Santos\par}
  \vfill
  {\large \today\par}
\end{titlepage}

\clearpage

% Ficha Catalográfica
\thispagestyle{empty}
\begin{center}
  \textbf{Ficha Catalográfica}\\
  \rule{0.8\textwidth}{0.5pt}\\[1em]
  \begin{minipage}{0.8\textwidth}\small
    SANTOS, Felipe Jovino dos Santos.\\
    \textbf{Título do Ebook}: Ecossistema AdonisJS: Guia Completo para Desenvolvedores / Felipe Jovino dos Santos. -- 1. ed. -- [Local], \the\year.\\
    \vspace{0.5em}
    \textbf{1.} Programação. \textbf{2.} Desenvolvimento de Software. \textbf{3.} Tecnologias.\\
    \textit{CDD 005.1}
  \end{minipage}
\end{center}

\clearpage

% Direitos Autorais
\thispagestyle{empty}
\begin{center}
  \vspace*{\fill}
  \begin{minipage}{0.8\textwidth}
    \centering

    \textbf{Copyright © \the\year\ Felipe Jovino dos Santos} \\[0.5cm]
    Este livro está licenciado sob \textbf{Creative Commons Atribuição-NãoComercial 4.0 Internacional}.\\
    Permite-se compartilhar, copiar, distribuir e adaptar, com crédito ao autor e sem fins comerciais.\\[0.3cm]

    Termos completos: \url{https://creativecommons.org/licenses/by-nc/4.0/deed.pt}

    \textit{Primeira edição – \the\year}
  \end{minipage}
  \vspace*{\fill}
\end{center}

\clearpage

% Sumário
\tableofcontents
\clearpage

% =======================
% PREFÁCIO
% =======================
\input{chapters/prefacio.tex}

% =======================
% OBJETIVOS
% =======================
\input{chapters/objetivos.tex}

% =======================
% PÚBLICO-ALVO
% =======================
\input{chapters/publico-alvo.tex}

% =======================
% COMO UTILIZAR
% =======================
\input{chapters/como-usar.tex}

% =======================
% PARTE I – ADONISJS FRAMEWORK
% =======================
\part{AdonisJS Framework}

\input{chapters/adonis-introducao.tex}
\input{chapters/primeros-passos.tex}
\input{chapters/conceitos-fundamentais.tex}
\input{chapters/fundamentos.tex}
\input{chapters/banco-lucid.tex}

\input{chapters/seguranca-protecao-csrf.tex}
\input{chapters/seguranca-validacao-dados.tex}
\input{chapters/seguranca-protegendo-rotas.tex}
\input{chapters/seguranca-cors-headers.tex}
\input{chapters/seguranca-env-security.tex}

\input{chapters/views-templates-introducao.tex}
\input{chapters/views-edgejs-basico.tex}
\input{chapters/views-edgejs-config.tex}
\input{chapters/views-inertia-visao-geral.tex}
\input{chapters/views-inertia-renderizacao-dados.tex}
\input{chapters/views-inertia-tipos-ssr-testes.tex}

% =======================
% AUTENTICAÇÃO
% =======================
\input{chapters/auth-introducao.tex}
\input{chapters/auth-guards-providers.tex}
\input{chapters/auth-instalacao-setup.tex}
\input{chapters/auth-user-model-migration.tex}
\input{chapters/auth-verificacao-credenciais.tex}
\input{chapters/auth-session-guard.tex}
\input{chapters/auth-access-tokens-guard.tex}
\input{chapters/auth-basic-auth-guard.tex}
\input{chapters/auth-custom-guard-jwt.tex}
\input{chapters/auth-social-ally.tex}

\input{chapters/cache.tex}
\input{chapters/drive.tex}
\input{chapters/event-emitter.tex}
\input{chapters/health-checks.tex}
\input{chapters/i18n.tex}
\input{chapters/locks.tex}
\input{chapters/logger.tex}
\input{chapters/mail.tex}
\input{chapters/repl.tex}
\input{chapters/transmit.tex}

% ======================
% Lucid ORM
\part{Lucid ORM}

\chapter{Introdução ao Lucid}
\section{Instalação e Uso}
\section{Debugging e Troubleshooting}
\section{Transações e Paginação}
\section{Database Seeders}
\section{Validation Rules}

\chapter{Query Builders}
\section{Select Query Builder}
\section{Insert Query Builder}
\section{Raw Queries}

\chapter{Migrations}
\section{Introdução}
\section{Schema Builder}
\section{Table Builder}

\chapter{Models}
\section{CRUD Operations}
\section{Hooks}
\section{Query Builder em Models}
\section{Naming Strategy}
\section{Query Scopes}
\section{Serialização de Models}
\section{Relacionamentos}
\section{Model Factories}

% ======================
% VineJS - Validação
\part{VineJS - Validações Poderosas}

\chapter{Guia de Uso do VineJS}
\section{Introdução}
\section{Getting Started}
\section{Schema 101}
\section{HTML Forms e Surpresas}
\section{Validações Condicionais}
\section{Field Context}
\section{Mensagens Customizadas}
\section{Error Reporter}
\section{Helpers}

\chapter{Tipos de Schema}
\section{String}
\section{Boolean}
\section{Number}
\section{Date}
\section{Accepted}
\section{Enum}
\section{Literal}
\section{Object}
\section{Record}
\section{Array}
\section{Tuple}
\section{Union}
\section{Any}

\chapter{Extendendo VineJS}
\section{Criando Custom Rules}
\section{Criando Custom Schema Types}

% ======================
% Japa - Test Runner
\part{Japa - Framework de Testes}

\chapter{Guia de Testes com Japa}
\section{Introdução}
\section{Instalação e Uso}
\section{Testando Código Assíncrono}
\section{Grouping Tests}
\section{Lifecycle Hooks}
\section{Datasets}
\section{Test Macros}
\section{Exceptions e Test Suites}
\section{Filtering Tests e Skipping Tests}
\section{Bail Mode}
\section{Test Reporters}
\section{Coverage}

\chapter{Plugins}
\section{Assert}
\section{OpenAPI Assertions}
\section{Expect}
\section{API Client}
\section{Browser Client}
\section{File System}
\section{Expect Types}
\section{Snapshot}

% =======================
% Glossário
% =======================
\chapter*{Glossário}
\addcontentsline{toc}{chapter}{Glossário}
\begin{description}
  \item[API] Interface de Programação de Aplicações.
  \item[Framework] Estrutura que fornece suporte para desenvolvimento.
  \item[Compilador] Programa que traduz código para linguagem de máquina.
\end{description}

% =======================
% Índice de Termos
% =======================
\printindex

\end{document}
